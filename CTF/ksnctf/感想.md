

## ksnctf

### 8 Basic is Secure
- 概要
    - basic認証サイトにアクセスしたときのpcapログ?
    - 色々見てたらpasswordがあった。それがflagだった。
    - ![sdf](08_Basic_Secure/Screen%20Shot%202020-02-16%20at%2017.51.17.png)
    
### 10 !#
- 概要
    - shebangって知ってる？？

### 17 Math 2

- 概要
    - xが与えられる (3900桁)
    - y^101 = x となるyを求める
- 解法
    - pythonは整数なら無限に計算できるが、少数は微妙なので、101乗根を一撃では求められない。
    - 二部探索で、101乗してxより大きい最小の数を求めれば終わり
    vag- ![17](17_Math_2/Screen%20Shot%202020-02-17%20at%2016.53.25.png)

### 20 G00913

- 概要
    - 円周率の連続する10桁で最初に現れる素数
- 解法
    - 最初の方に現れるので普通にlog(n)を一個ずつ見てったら見つかる


### 25 Reserved

- 概要
    - ぐぐると、perlの標準関数っぽいことがわかる
    - hoge.plに貼り付けてperlで実行するとflagが出てきた
    - ![25](25_Reserved/Screen Shot 2020-02-17 at 16.19.39.png)
    

### 32 Simple Auth
- 参考
    - https://qiita.com/CTFman/items/9224b86a5cbf757ed85e
- phpのstrcasecmpには脆弱性があるらしい。
- strcasecmp($_POST['password'], $password) == 0)
- postクエリのpasswordが、配列だと問答無用で返り値が0になるらしい。
- <input type="password" name="password[]"> nameの中身に[]をつけると、配列として送信できるらしい。
- htmlをこんな漢字にいじって、適当に0とか入れて送信すると通った。

### 35 simple auth 2
$db = new PDO('sqlite:database.db');  
$s = $db->prepare('SELECT * FROM user WHERE id=? AND password=?');  
$s->execute(array($_POST['id'], $_POST['password']));  

- id=? というのは、あとからparameterをもらって実行できるようにするための文法らしい。
- id=' + s + ' みたいにやると、悪意あるユーザに変なsql実行されちゃうらしい。
- この問題では、database.dbの場所がまずくて、普通に相対パスでこのphpと同じ場所にdatabase.dbがあるのでダウンロードできる。
- file コマンドで見ると sqlite3 とわかるので、userを見るとroot, flag~とパスワードが見える
- ![35](35_Simple_Auth_2/Screen%20Shot%202020-02-16%20at%2016.00.41.png)